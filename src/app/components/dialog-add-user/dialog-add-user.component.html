<h1 mat-dialog-title>Add User</h1>
<form [formGroup]="userForm">
  <div class="dia-content" mat-dialog-content>
    <!-- DIALOG CONTENT -->
    <div class="double-input">
      <mat-form-field appearance="outline">
        <mat-label>Name</mat-label>
        <input
          [disabled]="isLoading"
          [(ngModel)]="user.firstName"
          formControlName="firstName"
          matInput
        />
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Surname</mat-label>
        <input
          [disabled]="isLoading"
          [(ngModel)]="user.lastName"
          formControlName="lastName"
          matInput
        />
      </mat-form-field>
    </div>
    <div class="full-width-input">
      <mat-form-field appearance="outline">
        <mat-label>eMail</mat-label>
        <input
          type="email"
          [disabled]="isLoading"
          [(ngModel)]="user.email"
          pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}"
          formControlName="email"
          matInput
        />
      </mat-form-field>
    </div>
    <div class="full-width-input">
      <mat-form-field appearance="outline" class="example-form-field">
        <mat-label>Your Birth Date</mat-label>
        <!-- (dateInput)="formatDate($event)" -->
        <input
          [disabled]="isLoading"
          [(ngModel)]="birthDate"
          formControlName="birthDate"
          [matDatepicker]="datepicker"
          matInput
        />
        <mat-error *ngIf="userForm.get('birthDate')!.hasError('required')"
          >Date is required!</mat-error
        >
        <mat-hint>dd.mm.yyyy</mat-hint>
        <mat-datepicker-toggle
          matIconSuffix
          [for]="datepicker"
        ></mat-datepicker-toggle>
        <mat-datepicker #datepicker>
          <mat-datepicker-actions>
            <button mat-button matDatepickerCancel>Cancel</button>
            <button mat-raised-button color="primary" matDatepickerApply>
              Apply
            </button>
          </mat-datepicker-actions>
        </mat-datepicker>
      </mat-form-field>
    </div>
    <div class="full-width-input" style="margin-top: 12px">
      <mat-form-field appearance="outline">
        <mat-label>Street & House No.</mat-label>
        <input
          [disabled]="isLoading"
          [(ngModel)]="user.street"
          formControlName="street"
          matInput
        />
      </mat-form-field>
    </div>
    <div class="double-input">
      <mat-form-field appearance="outline">
        <mat-label>City</mat-label>
        <input
          [disabled]="isLoading"
          [(ngModel)]="user.city"
          formControlName="city"
          matInput
        />
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Zip-Code</mat-label>
        <input
          [disabled]="isLoading"
          [(ngModel)]="user.zipCode"
          formControlName="zipCode"
          matInput
        />
      </mat-form-field>
    </div>
    <!-- DIALOG CONTENT END-->
  </div>
</form>

<div mat-dialog-actions>
  <button mat-button (click)="closeDialog()">Cancel</button>
  <button mat-button (click)="save()" [disabled]="!userForm.valid">Save</button>
</div>

<mat-progress-bar *ngIf="isLoading" mode="indeterminate"></mat-progress-bar>
