{
    "sourceFile": "src/app/login/sign-in/sign-in.component.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 5,
            "patches": [
                {
                    "date": 1683569307969,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1683570102253,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,11 +1,16 @@\n-import { Component, inject} from '@angular/core';\n-import { Auth } from '@angular/fire/auth';\n+import { Component, OnInit, inject} from '@angular/core';\n+import { Auth, User, user } from '@angular/fire/auth';\n \n @Component({\n   selector: 'app-sign-in',\n   templateUrl: './sign-in.component.html',\n   styleUrls: ['./sign-in.component.scss']\n })\n-export class SignInComponent {\n+export class SignInComponent implements OnInit {\n   private auth: Auth = inject(Auth);\n+  user$ = user(this.auth);\n+\n+  ngOnInit(): void {\n+      console.log(this.user$);\n+  }\n }\n"
                },
                {
                    "date": 1683575575145,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,16 +1,21 @@\n import { Component, OnInit, inject} from '@angular/core';\n-import { Auth, User, user } from '@angular/fire/auth';\n+import { getAuth, createUserWithEmailAndPassword } from '@angular/fire/auth';\n \n @Component({\n   selector: 'app-sign-in',\n   templateUrl: './sign-in.component.html',\n   styleUrls: ['./sign-in.component.scss']\n })\n export class SignInComponent implements OnInit {\n-  private auth: Auth = inject(Auth);\n-  user$ = user(this.auth);\n+  auth = getAuth();\n+  email = '';\n+  password = '';\n \n+  constructor() {}\n+\n   ngOnInit(): void {\n-      console.log(this.user$);\n-  }\n+    createUserWithEmailAndPassword(this.auth, this.email, this.password)\n+    .then\n+   }\n+\n }\n"
                },
                {
                    "date": 1683732952974,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,21 +1,21 @@\n import { Component, OnInit, inject} from '@angular/core';\n import { getAuth, createUserWithEmailAndPassword } from '@angular/fire/auth';\n+import { User } from 'src/models/user.class';\n \n @Component({\n   selector: 'app-sign-in',\n   templateUrl: './sign-in.component.html',\n   styleUrls: ['./sign-in.component.scss']\n })\n export class SignInComponent implements OnInit {\n   auth = getAuth();\n+  userCredential = new User()\n   email = '';\n   password = '';\n \n   constructor() {}\n \n   ngOnInit(): void {\n-    createUserWithEmailAndPassword(this.auth, this.email, this.password)\n-    .then\n    }\n \n }\n"
                },
                {
                    "date": 1683733159512,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,21 +1,70 @@\n-import { Component, OnInit, inject} from '@angular/core';\n-import { getAuth, createUserWithEmailAndPassword } from '@angular/fire/auth';\n-import { User } from 'src/models/user.class';\n+import { Component, OnInit } from '@angular/core';\n+import { FormBuilder, FormGroup, Validators } from '@angular/forms';\n+import { MatSnackBar } from '@angular/material/snack-bar';\n+import { Router } from '@angular/router';\n+import { AuthenticationService } from './services/authentication.service';\n \n @Component({\n   selector: 'app-sign-in',\n   templateUrl: './sign-in.component.html',\n   styleUrls: ['./sign-in.component.scss']\n })\n export class SignInComponent implements OnInit {\n-  auth = getAuth();\n-  userCredential = new User()\n-  email = '';\n-  password = '';\n \n-  constructor() {}\n+  form!: FormGroup;\n+  isLoggingIn = false;\n+  isRecoveringPassword = false;\n \n+  constructor(\n+    private authenticationService: AuthenticationService,\n+    private formBuilder: FormBuilder,\n+    private router: Router,\n+    private snackBar: MatSnackBar\n+  ) { }\n+\n   ngOnInit(): void {\n-   }\n+    this.form = this.formBuilder.group({\n+      email: ['', [Validators.required, Validators.email]],\n+      password: ['', [Validators.required]]\n+    });\n+  }\n \n-}\n+  login() {\n+    this.isLoggingIn = true;\n+\n+    this.authenticationService.signIn({\n+      email: this.form.value.email,\n+      password: this.form.value.password\n+    }).subscribe({\n+      next: () => this.router.navigate(['home']),\n+      error: error => {\n+        this.isLoggingIn = false;\n+        this.snackBar.open(error.message, \"OK\", {\n+          duration: 5000\n+        })\n+      }\n+    });\n+  }\n+\n+  recoverPassword() {\n+    this.isRecoveringPassword = true;\n+\n+    this.authenticationService.recoverPassword(\n+      this.form.value.email\n+    ).subscribe({\n+      next: () => {\n+        this.isRecoveringPassword = false;\n+        this.snackBar.open(\"You can recover your password in your email account.\", \"OK\", {\n+          duration: 5000\n+        });\n+      },\n+      error: error => {\n+        this.isRecoveringPassword = false;\n+        this.snackBar.open(error.message, \"OK\", {\n+          duration: 5000\n+        });\n+      }\n+    })\n+  }\n+\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1683820400391,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,9 +35,9 @@\n     this.authenticationService.signIn({\n       email: this.form.value.email,\n       password: this.form.value.password\n     }).subscribe({\n-      next: () => this.router.navigate(['home']),\n+      next: () => this.router.navigate(['dashboard']),\n       error: error => {\n         this.isLoggingIn = false;\n         this.snackBar.open(error.message, \"OK\", {\n           duration: 5000\n"
                }
            ],
            "date": 1683569307969,
            "name": "Commit-0",
            "content": "import { Component, inject} from '@angular/core';\nimport { Auth } from '@angular/fire/auth';\n\n@Component({\n  selector: 'app-sign-in',\n  templateUrl: './sign-in.component.html',\n  styleUrls: ['./sign-in.component.scss']\n})\nexport class SignInComponent {\n  private auth: Auth = inject(Auth);\n}\n"
        }
    ]
}